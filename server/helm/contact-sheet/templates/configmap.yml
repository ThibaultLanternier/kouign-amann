apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "contact-sheet.fullname" . }}
  labels:
    {{- include "contact-sheet.labels" . | nindent 4 }}
data:
  storage.json: |
    {
        "storage_list" : [
            {
                "id": "s3_main_storage",
                "type": "AWS_S3",
                "config": {
                    "key" : {
                        "from_env": "AWS_KEY"
                    },
                    "secret" : {
                        "from_env": "AWS_SECRET"
                    },
                    "bucket" : "picture.backup.test"
                }
            },
            {
                "id": "google_photos_backup_thl",
                "type": "GOOGLE_PHOTOS",
                "config": {
                    "config_file": "google_api_oauth.json",
                    "token_url": "https://photos.kerjeannic.com/api/auth/google/access_token",
                    "callback_url": "https://photos.kerjeannic.com/api/auth/google/callback"
                }
            }
        ]
    }
